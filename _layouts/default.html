<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>{{ page.title }}</title>

        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <!-- Site metadata -->
        <meta content="author" name="Michael Paquier" />
        <meta name="keywords" content="{{page.tags | join: ','}}" />
        <meta name="description" content="{{page.title}}" />

        <!-- Site favicon -->
        <link rel="shortcut icon" href="{{site.url}}/content/favicon_otacoo.gif">

        <!-- XML+RSS feeds -->
        <link rel="alternate" type="application/rss+xml" title="Michael Paquier >> Feed" href="{{site.url}}/feeds/main.xml">
        <link rel="alternate" type="application/rss+xml" title="Michael Paquier >> PostgreSQL Feed" href="{{site.url}}/feeds/postgresql.xml">
    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">{{ site.name }}</a></h1>
          </div>

          <!-- Print content in presence of a post -->
          {% if page.type == 'post' or page.type == 'page' %}
            {{ content }}
          {% else %}
            <!-- This loops through the paginated posts -->
            {% for post in paginator.posts %}
              <h1><a href="{{ post.url }}">{{ post.title }}</a></h1>
              <p class="author">
                <span class="date">{{ post.date }}</span>
              </p>
              <div class="content">
                <div class="post-content-truncate">
                  {{ post.excerpt }}
                  <a href="{{post.url}}">Read more...</a>
                </div>
              </div>

              <!-- Add some space between each post  -->
              <br />
            {% endfor %}

            {% if paginator.total_pages > 1 %}
            <div class="pagination">
              {% if paginator.previous_page %}
                <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">&laquo; Prev</a>
              {% else %}
                <span>&laquo; Prev</span>
              {% endif %}

              {% for page in (1..paginator.total_pages) %}
                {% if page == paginator.page %}
                  <em>{{ page }}</em>
                {% elsif page == 1 %}
                  <a href="{{ '/index.html' | prepend: site.baseurl | replace: '//', '/' }}">{{ page }}</a>
                {% else %}
                  <a href="{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}">{{ page }}</a>
                {% endif %}
              {% endfor %}

              {% if paginator.next_page %}
                <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">Next &raquo;</a>
              {% else %}
                <span>Next &raquo;</span>
              {% endif %}
            </div>
            {% endif %} <!-- paginator loop -->
          {% endif %} <!-- page/post identification -->

          <div class="footer">
            <div class="contact">
              <p>
                Michael Paquier<br />
                Open source developer based in Japan<br />
                All content is (C)Copyright of Otacoo.com 2010-2014
              </p>
            </div>
            <div class="rss">
              <a class="extra" href="{{site.url}}/feeds/main.xml">RSS feed</a><br />
              <a class="extra" href="{{site.url}}/feeds/postgresql.xml">RSS PostgreSQL</a>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/michaelpq">github.com/michaelpq</a><br />
                <a href="https://twitter.com/michaelpq">twitter.com/michaelpq</a><br />
               </p>
            </div>
          </div>
        </div> <!-- site -->

    </body>
</html>
